!function(){"use strict";var e=null,t=!1,o=!1,n={},a={},r=null,c=null,i="GLOBAL",l={position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:"99998",opacity:"0",transition:"opacity 0.3s ease"},s={position:"fixed",bottom:"0",left:"0",right:"0",minHeight:"50vh",maxHeight:"50vh",backgroundColor:"rgba(32, 32, 32, 0.95)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:"14px",color:"#fff",zIndex:"99999",boxShadow:"0 -4px 20px rgba(0,0,0,0.4)",userSelect:"none",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",transform:"translateY(100%)",transition:"transform 0.3s ease",display:"flex",flexDirection:"column",touchAction:"none",overscrollBehavior:"contain",paddingBottom:"env(safe-area-inset-bottom)"},d={position:"relative",padding:"12px",cursor:"grab",display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"},u={width:"40px",height:"4px",backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:"2px"},p={position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)",fontSize:"16px",color:"rgba(255, 255, 255, 0.6)",fontWeight:"600"},h={flex:"1",overflowY:"auto",padding:"0 16px 16px 16px",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",touchAction:"pan-y"},f={display:"flex",gap:"8px",padding:"0 16px 12px 16px",overflowX:"auto",flexShrink:"0",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",touchAction:"pan-x"},b={padding:"8px 16px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"20px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px",fontWeight:"500",cursor:"pointer",whiteSpace:"nowrap",transition:"background-color 0.2s, color 0.2s"},m={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px",padding:"12px 0"},v={padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"13px",cursor:"pointer",textAlign:"center",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",minHeight:"48px",touchAction:"manipulation"},g={fontSize:"13px",fontWeight:"500"},y={fontSize:"11px",color:"rgba(255, 255, 255, 0.6)",lineHeight:"1.2"};function C(e,t){for(var o in t)e.style[o]=t[o]}function x(){if(function(){if(!document.getElementById("cheat-scrollbar-style")){var e=document.createElement("style");e.id="cheat-scrollbar-style",e.textContent=["#cheat-content::-webkit-scrollbar {","  width: 6px;","}","#cheat-content::-webkit-scrollbar-track {","  background: transparent;","}","#cheat-content::-webkit-scrollbar-thumb {","  background: rgba(255, 255, 255, 0.3);","  border-radius: 3px;","}","#cheat-content::-webkit-scrollbar-thumb:hover {","  background: rgba(255, 255, 255, 0.5);","}","#cheat-content {","  scrollbar-width: thin;","  scrollbar-color: rgba(255, 255, 255, 0.3) transparent;","}","#cheat-tabbar {","  scrollbar-width: none;","  -ms-overflow-style: none;","}","#cheat-tabbar::-webkit-scrollbar {","  display: none;","}","#cheat-bottomsheet button:active {","  background-color: rgba(255, 255, 255, 0.25) !important;","  transform: scale(0.98);","}"].join("\n"),document.head.appendChild(e)}}(),e)return e;var t=document.createElement("div");t.id="cheat-overlay",C(t,l),t.onclick=function(){S()},t.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1});var o=document.createElement("div");o.id="cheat-bottomsheet",C(o,s);var n=document.createElement("div");C(n,d);var a=document.createElement("div");C(a,u),n.appendChild(a);var r=document.createElement("span");C(r,p),r.id="cheat-version",c&&(r.textContent="v"+c),n.appendChild(r),o.appendChild(n);var i=0,b=0,m=!1;function v(e){i=e,b=e,m=!0,o.style.transition="none"}function g(e){if(m){var t=(b=e)-i;t>0&&(o.style.transform="translateY("+t+"px)")}}function y(){m&&(m=!1,o.style.transition="transform 0.3s ease",b-i>80?S():o.style.transform="translateY(0)")}n.addEventListener("touchstart",function(e){v(e.touches[0].clientY)},{passive:!0}),n.addEventListener("touchmove",function(e){e.preventDefault(),g(e.touches[0].clientY)},{passive:!1}),n.addEventListener("touchend",y),n.addEventListener("mousedown",function(e){v(e.clientY),e.preventDefault()}),document.addEventListener("mousemove",function(e){m&&g(e.clientY)}),document.addEventListener("mouseup",y);var x=document.createElement("div");x.id="cheat-tabbar",C(x,f),o.appendChild(x);var w=document.createElement("div");return w.id="cheat-content",C(w,h),o.appendChild(w),o.addEventListener("touchstart",function(e){w._lastTouchY=e.touches[0].clientY},{passive:!0}),o.addEventListener("touchmove",function(e){for(var t=e.target,n=!1;t&&t!==o;){if(t===w&&w.scrollHeight>w.clientHeight){n=!0;break}t=t.parentNode}if(n){var a=w.scrollTop,r=w.scrollHeight,c=a<=0,i=a+w.clientHeight>=r;w._lastTouchY||(w._lastTouchY=e.touches[0].clientY);var l=e.touches[0].clientY,s=l>w._lastTouchY,d=l<w._lastTouchY;w._lastTouchY=l,(c&&s||i&&d)&&e.preventDefault()}else e.preventDefault();e.stopPropagation()},{passive:!1}),e={overlay:t,bottomSheet:o,dragHandle:n,tabBar:x,content:w,activeTab:null}}function w(t){if(e){var o=e.tabBar.querySelectorAll("button");for(var n in o.forEach(function(e){e.style.backgroundColor="rgba(255, 255, 255, 0.1)",e.style.color="rgba(255, 255, 255, 0.6)"}),a)a[n].content&&(a[n].content.style.display="none");a[t]&&(a[t].tab&&(a[t].tab.style.backgroundColor="rgba(255, 255, 255, 0.9)",a[t].tab.style.color="#202020"),a[t].content&&(a[t].content.style.display="grid")),e.activeTab=t}}function k(t,o){if(a[t]||(a[t]={desc:o||null,commands:[],tab:null,content:null}),!a[t].tab&&e){var n=function(e){var t=document.createElement("button");C(t,b),t.textContent=e,t.onclick=function(){w(e)};var o=document.createElement("div");return C(o,m),o.style.display="none",{tab:t,content:o}}(t,a[t].desc);a[t].tab=n.tab,a[t].content=n.content,e.tabBar.appendChild(n.tab),e.content.appendChild(n.content),e.activeTab||w(t)}return a[t]}function E(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function T(){e||x();var n=r||document.body;!e.overlay.parentNode&&n&&(n.appendChild(e.overlay),n.appendChild(e.bottomSheet)),o=!0,e.overlay.style.pointerEvents="auto",e.bottomSheet.style.pointerEvents="auto",requestAnimationFrame(function(){e.overlay.style.opacity="1",e.bottomSheet.style.transform="translateY(0)"}),setTimeout(function(){o=!1},350),t=!0,console.log("[Cheat] 열림")}function S(){t&&!o&&(B&&B(),e&&(e.overlay.style.opacity="0",e.bottomSheet.style.transform="translateY(100%)",setTimeout(function(){e.overlay.parentNode&&e.overlay.parentNode.removeChild(e.overlay),e.bottomSheet.parentNode&&e.bottomSheet.parentNode.removeChild(e.bottomSheet)},300)),t=!1,console.log("[Cheat] 닫힘"))}function N(){t?S():T()}var Y,A,L,H,B=null;function z(e,t,o){if(e&&t){var r,c;if("function"==typeof t)r=t,c=null;else{if(!Array.isArray(t))return void console.error("[Cheat] 잘못된 액션:",e);r=t[0],c=t[1]||null}var l=o||i;n[e]&&_(e);var s=function(e,t,o,n){var a=k(n);if(!a||!a.content)return null;var r=document.createElement("button");C(r,v);var c=document.createElement("span");if(C(c,g),c.textContent=e,r.appendChild(c),o){var i=document.createElement("span");C(i,y),i.textContent=o,r.appendChild(i)}return r.onclick=function(){try{t(),r.style.backgroundColor="rgba(76, 175, 80, 0.4)",setTimeout(function(){r.style.backgroundColor="rgba(255, 255, 255, 0.1)"},200)}catch(e){console.error("[Cheat] 액션 오류:",e),r.style.backgroundColor="rgba(244, 67, 54, 0.4)",setTimeout(function(){r.style.backgroundColor="rgba(255, 255, 255, 0.1)"},200)}},r.onmouseenter=function(){r.style.backgroundColor="rgba(255, 255, 255, 0.2)"},r.onmouseleave=function(){r.style.backgroundColor="rgba(255, 255, 255, 0.1)"},a.content.appendChild(r),r}(e,r,c,l);n[e]={callback:r,desc:c,btn:s,group:l},a[l]&&a[l].commands.push(e),console.log('[Cheat] 추가됨: "'+e+'"')}}function _(e){if(n[e]){var t=n[e];E(t.btn);var o=t.group;if(a[o]){var r=a[o].commands.indexOf(e);r>-1&&a[o].commands.splice(r,1),0===a[o].commands.length&&o!==i&&(a[o].tab&&a[o].tab.parentNode&&a[o].tab.parentNode.removeChild(a[o].tab),a[o].content&&a[o].content.parentNode&&a[o].content.parentNode.removeChild(a[o].content),delete a[o])}delete n[e],console.log('[Cheat] 삭제됨: "'+e+'"')}else console.warn("[Cheat] 명령어 없음:",e)}function D(e,t){if(e&&t){var o,n;if("string"==typeof e)o=e,n=null;else{if(!Array.isArray(e))return void console.error("[Cheat] 잘못된 그룹 정보");o=e[0],n=e[1]||null}a[o]?a[o].desc=n:a[o]={desc:n,commands:[],tab:null,content:null};var r=0;for(var c in t)t.hasOwnProperty(c)&&(z(c,t[c],o),r++);console.log('[Cheat] 그룹 추가됨: "'+o+'" ('+r+"개 명령어)")}}function O(e){if(a[e]){for(var t=a[e].commands.slice(),o=0;o<t.length;o++)_(t[o]);a[e].tab&&a[e].tab.parentNode&&a[e].tab.parentNode.removeChild(a[e].tab),a[e].content&&a[e].content.parentNode&&a[e].content.parentNode.removeChild(a[e].content),delete a[e],console.log('[Cheat] 그룹 삭제됨: "'+e+'"')}else console.warn("[Cheat] 그룹 없음:",e)}function R(){for(var t in n)n.hasOwnProperty(t)&&E(n[t].btn);for(var o in a)a.hasOwnProperty(o)&&(a[o].tab&&a[o].tab.parentNode&&a[o].tab.parentNode.removeChild(a[o].tab),a[o].content&&a[o].content.parentNode&&a[o].content.parentNode.removeChild(a[o].content));e&&(e.activeTab=null),n={},a={},console.log("[Cheat] 모든 명령어 삭제됨")}function P(e,t,o){if(c=e||null,r=t||document.body,x(),o)for(var n in o)o.hasOwnProperty(n)&&z(n,o[n],i)}function I(e,t){var o=e.key,n=e.name,a=t||i,r=function(){window.postMessage({type:"CHEAT_EVENT",event:"action_triggered",payload:{key:o,name:n,group:a}},"*")};z(n,e.desc?[r,e.desc]:r,a)}window.cheat=P,window.cheat.show=T,window.cheat.hide=S,window.cheat.toggle=N,window.cheat.actions=n,window.cheat.groups=a,window.cheat.add=z,window.cheat.remove=_,window.cheat.addGroup=D,window.cheat.removeGroup=O,window.cheat.clear=R,window.cheat.list=function(){for(var e in console.log("[Cheat] 명령어 목록:"),a)if(a.hasOwnProperty(e)){var t=a[e];if(0===t.commands.length)continue;var o="  ["+e+"]";t.desc&&(o+=" "+t.desc),console.log(o);for(var r=0;r<t.commands.length;r++){var c=t.commands[r],i=n[c],l="    - "+c;i&&i.desc&&(l+=": "+i.desc),console.log(l)}}},document.addEventListener("mousedown",function(e){!e.shiftKey||e.ctrlKey||e.altKey||(e.preventDefault(),e.stopPropagation(),N())},!1),Y=0,A=null,L=0,H=0,B=function(){Y=0,A&&(clearTimeout(A),A=null),console.log("[Cheat] 탭 카운트 리셋")},window.addEventListener("touchend",function(e){if(1===e.changedTouches.length){var t=e.changedTouches[0],o=t.clientX,n=t.clientY;if(0===Y)L=o,H=n,Y=1,console.log("[Cheat] 탭 1 위치:",o,n),A=setTimeout(function(){Y=0},350);else{var a=o-L,r=n-H,c=Math.sqrt(a*a+r*r);c<=20?(Y++,console.log("[Cheat] 탭",Y,"거리:",Math.round(c)+"px"),3===Y&&(clearTimeout(A),Y=0,console.log("[Cheat] 트리플 탭 성공!"),N())):(console.log("[Cheat] 위치 벗어남, 리셋. 거리:",Math.round(c)+"px"),clearTimeout(A),L=o,H=n,Y=1,A=setTimeout(function(){Y=0},350))}}},{capture:!0,passive:!0}),window.addEventListener("message",function(e){if(e.data&&"CHEAT_REQUEST"===e.data.type){var t=e.data,o=t.action,n=t.payload||{};switch(o){case"init":P(n.version,r||document.body),n.actions&&Array.isArray(n.actions)&&n.actions.forEach(function(e){I(e,i)});break;case"addGroup":!function(e){var t=e.group,o=e.actions||[],n=Array.isArray(t)?t[0]:t;D(t,{}),o.forEach(function(e){I(e,n)})}(n);break;case"clear":R();break;case"remove":_(n.name);break;case"removeGroup":O(n.group)}}}),console.log("[Cheat] 초기화 완료. 제스처: 데스크탑=Shift+클릭, 모바일=트리플탭")}();