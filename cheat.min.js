!function(){"use strict";var e=null,t=!1,n=!1,o={},r={},a=null,i=null,c="GLOBAL",l=!1;function s(){l&&console.log.apply(console,arguments)}var d=null,u=null,p=!1,f={position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:"99998",opacity:"0",transition:"opacity 0.3s ease"},h={position:"fixed",bottom:"0",left:"0",right:"0",minHeight:"50vh",maxHeight:"50vh",backgroundColor:"rgba(32, 32, 32, 0.95)",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:"14px",color:"#fff",zIndex:"99999",boxShadow:"0 -4px 20px rgba(0,0,0,0.4)",userSelect:"none",borderTopLeftRadius:"16px",borderTopRightRadius:"16px",transform:"translateY(100%)",transition:"transform 0.3s ease",display:"flex",flexDirection:"column",touchAction:"none",overscrollBehavior:"contain",paddingBottom:"env(safe-area-inset-bottom)"},v={position:"relative",padding:"12px",cursor:"grab",display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"},b={width:"40px",height:"4px",backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:"2px"},m={padding:"8px 16px",fontSize:"14px",color:"rgba(255, 255, 255, 0.6)",textAlign:"center",cursor:"pointer",flexShrink:"0",borderBottom:"1px solid rgba(255, 255, 255, 0.05)"},g={flex:"1",overflowY:"auto",padding:"0 16px 16px 16px",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",touchAction:"pan-y"},y={display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",overflowX:"auto",flexShrink:"0",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",touchAction:"pan-x"},w={padding:"8px 16px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"20px",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px",fontWeight:"500",cursor:"pointer",whiteSpace:"nowrap",transition:"background-color 0.2s, color 0.2s"},C={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px",padding:"12px 0"},x={padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"13px",cursor:"pointer",textAlign:"center",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",minHeight:"48px",touchAction:"manipulation"},k={fontSize:"13px",fontWeight:"500"},E={fontSize:"11px",color:"rgba(255, 255, 255, 0.6)",lineHeight:"1.2"};function S(e,t){for(var n in t)e.style[n]=t[n]}var T=["backgroundColor","color","borderColor","borderWidth","borderStyle","opacity","boxShadow","outline","textDecoration","fontWeight","fontStyle"],A={backgroundColor:"rgba(76, 175, 80, 0.3)"};function N(e,t){for(var n=0;n<T.length;n++)e.style[T[n]]="";if(e.style.backgroundColor=x.backgroundColor,e.style.color=x.color,t)for(var o in t)t.hasOwnProperty(o)&&(e.style[o]=t[o])}function O(e){for(var t in o)if(o.hasOwnProperty(t)&&o[t].btn===e)return o[t];return null}function Y(){if(function(){if(!document.getElementById("cheat-scrollbar-style")){var e=document.createElement("style");e.id="cheat-scrollbar-style",e.textContent=["#cheat-content::-webkit-scrollbar {","  width: 6px;","}","#cheat-content::-webkit-scrollbar-track {","  background: transparent;","}","#cheat-content::-webkit-scrollbar-thumb {","  background: rgba(255, 255, 255, 0.3);","  border-radius: 3px;","}","#cheat-content::-webkit-scrollbar-thumb:hover {","  background: rgba(255, 255, 255, 0.5);","}","#cheat-content {","  scrollbar-width: thin;","  scrollbar-color: rgba(255, 255, 255, 0.3) transparent;","}","#cheat-tabbar {","  scrollbar-width: none;","  -ms-overflow-style: none;","}","#cheat-tabbar::-webkit-scrollbar {","  display: none;","}","#cheat-bottomsheet button:active {","  background-color: rgba(255, 255, 255, 0.25) !important;","  transform: scale(0.98);","}"].join("\n"),document.head.appendChild(e)}}(),e)return e;var t=document.createElement("div");t.id="cheat-overlay",S(t,f),t.onclick=function(){_()},t.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1});var n=document.createElement("div");n.id="cheat-bottomsheet",S(n,h);var o=document.createElement("div");S(o,v);var r=document.createElement("div");S(r,b),o.appendChild(r),n.appendChild(o);var a=document.createElement("div");S(a,m),a.id="cheat-statusline",a.addEventListener("click",function(e){e.stopPropagation(),X()}),i||(a.style.display="none"),n.appendChild(a);var c=0,l=0,s=!1;function p(e){c=e,l=e,s=!0,n.style.transition="none"}function w(e){if(s){var t=(l=e)-c;t>0&&(n.style.transform="translateY("+t+"px)")}}function C(){s&&(s=!1,n.style.transition="transform 0.3s ease",l-c>80?_():n.style.transform="translateY(0)")}o.addEventListener("touchstart",function(e){p(e.touches[0].clientY)},{passive:!0}),o.addEventListener("touchmove",function(e){e.preventDefault(),w(e.touches[0].clientY)},{passive:!1}),o.addEventListener("touchend",C),o.addEventListener("mousedown",function(e){p(e.clientY),e.preventDefault()}),d=function(e){s&&w(e.clientY)},u=C,L();var x=document.createElement("div");x.id="cheat-tabbar",S(x,y),n.appendChild(x);var k=document.createElement("div");return k.id="cheat-content",S(k,g),n.appendChild(k),n.addEventListener("touchstart",function(e){k._lastTouchY=e.touches[0].clientY},{passive:!0}),n.addEventListener("touchmove",function(e){for(var t=e.target,o=!1;t&&t!==n;){if(t===k&&k.scrollHeight>k.clientHeight){o=!0;break}t=t.parentNode}if(o){var r=k.scrollTop,a=k.scrollHeight,i=r<=0,c=r+k.clientHeight>=a;k._lastTouchY||(k._lastTouchY=e.touches[0].clientY);var l=e.touches[0].clientY,s=l>k._lastTouchY,d=l<k._lastTouchY;k._lastTouchY=l,(i&&s||c&&d)&&e.preventDefault()}else e.preventDefault();e.stopPropagation()},{passive:!1}),e={overlay:t,bottomSheet:n,dragHandle:o,tabBar:x,content:k,activeTab:null}}function L(){!p&&d&&(document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),p=!0)}function P(t){if(e){var n=e.tabBar.querySelectorAll("button");for(var o in n.forEach(function(e){e.style.backgroundColor="rgba(255, 255, 255, 0.1)",e.style.color="rgba(255, 255, 255, 0.6)"}),r)r[o].content&&(r[o].content.style.display="none");r[t]&&(r[t].tab&&(r[t].tab.style.backgroundColor="rgba(255, 255, 255, 0.9)",r[t].tab.style.color="#202020"),r[t].content&&(r[t].content.style.display="grid")),e.activeTab=t}}function j(t,n){if(r[t]||(r[t]={desc:n||null,commands:[],tab:null,content:null}),!r[t].tab&&e){var o=function(e){var t=document.createElement("button");S(t,w),t.textContent=e,t.onclick=function(){P(e)};var n=document.createElement("div");return S(n,C),n.style.display="none",{tab:t,content:n}}(t,r[t].desc);r[t].tab=o.tab,r[t].content=o.content,e.tabBar.appendChild(o.tab),e.content.appendChild(o.content),e.activeTab||P(t)}return r[t]}function B(e,t,n,o){var r=j(o);if(!r||!r.content)return null;var a=document.createElement("button");S(a,x);var i=document.createElement("span");if(S(i,k),i.textContent=e,a.appendChild(i),n){var c=document.createElement("span");S(c,E),c.textContent=n,a.appendChild(c)}var l=null;return a.onclick=function(){l&&(clearTimeout(l),l=null);try{var e=function(e){if(null!=e){if(!0===e)return A;if(!1===e)return null;if("object"==typeof e){for(var t={},n=!1,o=0;o<T.length;o++){var r=T[o];e.hasOwnProperty(r)&&(t[r]=e[r],n=!0)}return n?t:void 0}}}(t());if(void 0!==e){var n=O(a);n&&(n.persistentStyles=e)}a.style.backgroundColor="rgba(76, 175, 80, 0.4)",l=setTimeout(function(){l=null;var e=O(a),t=e?e.persistentStyles:null;N(a,t)},200)}catch(e){console.error("[Cheat] 액션 오류:",e),a.style.backgroundColor="rgba(244, 67, 54, 0.4)",l=setTimeout(function(){l=null;var e=O(a),t=e?e.persistentStyles:null;N(a,t)},200)}},a.onmouseenter=function(){var e=O(a),t=e?e.persistentStyles:null;t&&t.backgroundColor?a.style.boxShadow="0 0 0 2px rgba(255, 255, 255, 0.3)":a.style.backgroundColor="rgba(255, 255, 255, 0.2)"},a.onmouseleave=function(){var e=O(a),t=e?e.persistentStyles:null;a.style.boxShadow="",N(a,t)},r.content.appendChild(a),a}function D(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function H(){for(var i in e||Y(),L(),o)if(o.hasOwnProperty(i)&&!o[i].btn){var c=o[i],l=B(i,c.callback,c.desc,c.group);c.btn=l}if(!e.activeTab||!r[e.activeTab]){var d=Object.keys(r)[0];d&&P(d)}var u=a||document.body;!e.overlay.parentNode&&u&&(u.appendChild(e.overlay),u.appendChild(e.bottomSheet)),X(),n=!0,e.overlay.style.pointerEvents="auto",e.bottomSheet.style.pointerEvents="auto",requestAnimationFrame(function(){e.overlay.style.opacity="1",e.bottomSheet.style.transform="translateY(0)"}),setTimeout(function(){n=!1},350),t=!0,s("[Cheat] 열림")}function _(){t&&!n&&(z&&z(),e&&(e.overlay.style.opacity="0",e.bottomSheet.style.transform="translateY(100%)",setTimeout(function(){e.overlay.parentNode&&e.overlay.parentNode.removeChild(e.overlay),e.bottomSheet.parentNode&&e.bottomSheet.parentNode.removeChild(e.bottomSheet),d&&document.removeEventListener("mousemove",d),u&&document.removeEventListener("mouseup",u),p=!1},300)),t=!1,s("[Cheat] 닫힘"))}function I(){t?_():H()}function R(){return"undefined"!=typeof CC_EDITOR&&!0===CC_EDITOR}var z=null;function G(e,t,n){if(e&&t){var a,i;if("function"==typeof t)a=t,i=null;else{if(!Array.isArray(t))return void console.error("[Cheat] 잘못된 액션:",e);a=t[0],i=t[1]||null}var l=n||c;o[e]&&M(e);var d=B(e,a,i,l);o[e]={callback:a,desc:i,btn:d,group:l,persistentStyles:null},r[l]&&r[l].commands.push(e),s('[Cheat] 추가됨: "'+e+'"')}}function M(e){if(o[e]){var t=o[e];D(t.btn);var n=t.group;if(r[n]){var a=r[n].commands.indexOf(e);a>-1&&r[n].commands.splice(a,1),0===r[n].commands.length&&n!==c&&(r[n].tab&&r[n].tab.parentNode&&r[n].tab.parentNode.removeChild(r[n].tab),r[n].content&&r[n].content.parentNode&&r[n].content.parentNode.removeChild(r[n].content),delete r[n])}delete o[e],s('[Cheat] 삭제됨: "'+e+'"')}else console.warn("[Cheat] 명령어 없음:",e)}function W(e,t){if(e&&t){var n,o;if("string"==typeof e)n=e,o=null;else{if(!Array.isArray(e))return void console.error("[Cheat] 잘못된 그룹 정보");n=e[0],o=e[1]||null}r[n]?r[n].desc=o:r[n]={desc:o,commands:[],tab:null,content:null};var a=0;for(var i in t)t.hasOwnProperty(i)&&(G(i,t[i],n),a++);s('[Cheat] 그룹 추가됨: "'+n+'" ('+a+"개 명령어)")}}function q(t){if(r[t]){for(var n=r[t].tab,o=r[t].content,a=r[t].commands.slice(),i=0;i<a.length;i++)M(a[i]);if(n&&n.parentNode&&n.parentNode.removeChild(n),o&&o.parentNode&&o.parentNode.removeChild(o),delete r[t],e&&e.activeTab===t){var c=Object.keys(r)[0];c?P(c):e.activeTab=null}s('[Cheat] 그룹 삭제됨: "'+t+'"')}else console.warn("[Cheat] 그룹 없음:",t)}function F(){for(var t in o)o.hasOwnProperty(t)&&D(o[t].btn);for(var n in r)r.hasOwnProperty(n)&&(r[n].tab&&r[n].tab.parentNode&&r[n].tab.parentNode.removeChild(r[n].tab),r[n].content&&r[n].content.parentNode&&r[n].content.parentNode.removeChild(r[n].content));e&&(e.activeTab=null),o={},r={},s("[Cheat] 모든 명령어 삭제됨")}function K(e,t){if(a=t||document.body,Y(),e)for(var n in e)e.hasOwnProperty(n)&&G(n,e[n],c)}function U(e){i=e,X()}function X(){var e=document.getElementById("cheat-statusline");if(e)if(i){var t={separator:" | "},n=i(t),o=(Array.isArray(n)?n:[]).filter(function(e){return null!=e}).join(t.separator);e.textContent=o,e.style.display=o?"":"none"}else e.style.display="none"}function Q(e,t){var n=e.key,o=e.name,r=t||c,a=function(){window.postMessage({type:"CHEAT_EVENT",event:"action_triggered",payload:{key:n,name:o,group:r}},window.location.origin)};G(o,e.desc?[a,e.desc]:a,r)}U.refresh=X,window.cheat=K,window.cheat.show=H,window.cheat.hide=_,window.cheat.toggle=I,window.cheat.statusline=U,Object.defineProperty(window.cheat,"actions",{get:function(){return Object.assign({},o)},enumerable:!0}),Object.defineProperty(window.cheat,"groups",{get:function(){return Object.assign({},r)},enumerable:!0}),window.cheat.add=G,window.cheat.remove=M,window.cheat.addGroup=W,window.cheat.removeGroup=q,window.cheat.clear=F,window.cheat.list=function(){for(var e in s("[Cheat] 명령어 목록:"),r)if(r.hasOwnProperty(e)){var t=r[e];if(0===t.commands.length)continue;var n="  ["+e+"]";t.desc&&(n+=" "+t.desc),console.log(n);for(var a=0;a<t.commands.length;a++){var i=t.commands[a],c=o[i],l="    - "+i;c&&c.desc&&(l+=": "+c.desc),console.log(l)}}},Object.defineProperty(window.cheat,"debug",{get:function(){return l},set:function(e){l=!!e},enumerable:!0}),R()||document.addEventListener("mousedown",function(e){!e.shiftKey||e.ctrlKey||e.altKey||(e.preventDefault(),e.stopPropagation(),I())},!0),function(){if(!R()){var e=0,t=null,n=0,o=0;z=function(){e=0,t&&(clearTimeout(t),t=null),s("[Cheat] 탭 카운트 리셋")},window.addEventListener("touchend",function(r){if(1===r.changedTouches.length){var a=r.changedTouches[0],i=a.clientX,c=a.clientY;if(0===e)n=i,o=c,e=1,s("[Cheat] 탭 1 위치:",i,c),t=setTimeout(function(){e=0},350);else{var l=i-n,d=c-o,u=Math.sqrt(l*l+d*d);u<=20?(s("[Cheat] 탭",++e,"거리:",Math.round(u)+"px"),3===e&&(clearTimeout(t),e=0,s("[Cheat] 트리플 탭 성공!"),I())):(s("[Cheat] 위치 벗어남, 리셋. 거리:",Math.round(u)+"px"),clearTimeout(t),n=i,o=c,e=1,t=setTimeout(function(){e=0},350))}}},{capture:!0,passive:!0})}}(),window.addEventListener("message",function(e){if(e.origin===window.location.origin&&e.data&&"CHEAT_REQUEST"===e.data.type){var t=e.data,n=t.action,o=t.payload||{};switch(n){case"init":K(null,a||document.body),o.actions&&Array.isArray(o.actions)&&o.actions.forEach(function(e){Q(e,c)});break;case"addGroup":!function(e){var t=e.group,n=e.actions||[],o=Array.isArray(t)?t[0]:t;W(t,{}),n.forEach(function(e){Q(e,o)})}(o);break;case"clear":F();break;case"removeGroup":q(o.group)}}}),s("[Cheat] 초기화 완료. 제스처: 데스크탑=Shift+클릭, 모바일=트리플탭")}();