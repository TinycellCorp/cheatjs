<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cheat.js dev preview</title>
    <style>
        body {
            margin: 0;
            padding: 40px;
            background: #1a1a2e;
            color: #eee;
            font-family: sans-serif;
        }
        h1 { color: #e94560; }
        p { color: #aaa; line-height: 1.6; }
        code { background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>cheat.js dev preview</h1>
    <p>Shift+Click (desktop) or Triple-tap (mobile) to open the cheat UI.</p>
    <p>Or click the button below:</p>
    <button onclick="window.cheat.show()" style="padding:10px 20px;font-size:16px;cursor:pointer;">
        Show Cheat UI
    </button>

    <script src="./cheat.js"></script>
    <script>
        // 초기화
        cheat({ 'Hello': function() { alert('Hello!'); } });

        // 상태라인 (빌드 시각으로 변경 확인용)
        var _buildTime = new Date().toLocaleTimeString('ko-KR', {hour:'2-digit',minute:'2-digit',second:'2-digit'});
        cheat.statusline(function(opt) {
            return ['v2.0.7', 'build ' + _buildTime];
        });

        // 샘플 그룹 1 - 토글 테스트 포함
        var godMode = false;
        var speedLevel = 0;
        cheat.addGroup(['Player', '플레이어 관련'], {
            'God Mode': [function() {
                godMode = !godMode;
                console.log('God mode', godMode ? 'ON' : 'OFF');
                return godMode;  // 토글: true/false 반환
            }, '무적 토글'],
            'Speed Up': [function() {
                speedLevel = (speedLevel + 1) % 4;
                console.log('Speed level:', speedLevel);
                if (speedLevel === 0) return false;
                var colors = ['', 'rgba(255,193,7,0.3)', 'rgba(255,152,0,0.3)', 'rgba(244,67,54,0.3)'];
                return { backgroundColor: colors[speedLevel] };  // 커스텀 스타일
            }, '속도 단계'],
            'Add Gold': [function() { console.log('+1000 gold'); }, '골드 추가'],
            'Level Up': function() { console.log('Level up!'); },
            'Error Test': [function() { throw new Error('테스트 에러!'); }, '에러 발생']
        });

        // 샘플 그룹 2 - autoClose 테스트 포함
        cheat.addGroup(['World', '월드 설정'], {
            'Skip Stage': [function() { console.log('Stage skipped'); return 'close'; }, '자동 닫기'],
            'Spawn Enemy': [function() { console.log('Enemy spawned'); }, '적 생성'],
            'Clear Map': function() { console.log('Map cleared'); },
            'Conditional Close': [function() {
                var ok = Math.random() > 0.5;
                console.log('Result:', ok ? 'close' : 'stay');
                return ok ? 'close' : undefined;
            }, '50% 확률 닫기']
        });

        // 샘플 그룹 3
        cheat.addGroup(['Debug', '디버그 도구'], {
            'Show FPS': function() { console.log('FPS overlay'); },
            'Dump State': [function() { console.log(JSON.stringify({hp:100,mp:50})); }, '상태 덤프'],
            'Toggle Hitbox': function() { console.log('Hitbox toggled'); },
            'Network Log': [function() { console.log('Network logging started'); }, '네트워크 로그'],
            'Memory Info': function() { console.log('Memory:', performance.memory); }
        });

        // 샘플 그룹 4 - select 버튼 테스트
        cheat.addGroup(['Settings', '설정'], {
            'Language': {
                type: 'select',
                options: ['Korean', 'English', 'Japanese', 'Chinese'],
                default: 'Korean',
                onChange: function(value, index) {
                    console.log('Language changed to:', value, '(index:', index, ')');
                },
                desc: '언어 변경'
            },
            'Difficulty': {
                type: 'select',
                options: ['Easy', 'Normal', 'Hard', 'Nightmare'],
                default: 'Normal',
                onChange: function(value, index) {
                    console.log('Difficulty:', value);
                },
                desc: '난이도 설정'
            },
            'Theme': {
                type: 'select',
                options: ['Dark', 'Light'],
                onChange: function(value) {
                    console.log('Theme:', value);
                }
            },
            'Reset All': function() { console.log('All settings reset'); }
        });

        // 디버그 모드 ON
        cheat.debug = true;
    </script>
</body>
</html>
